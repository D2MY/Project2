{% extends 'base.html.twig' %}

{% block title %}Admin{% endblock %}

{% block body %}
<div class="admin-container">
    <div class="d-grid">
        <div class="d-grid user-row">
            <div>ID</div>
            <div>First Name</div>
            <div>Second Name</div>
            <div>Email</div>
            <div>Roles</div>
            <div>Is verified?</div>
            <div></div>
            <div></div>
        </div>
    {% for user in users %}
        <div class="d-grid user-row">
            <div>{{ user.id }}</div>
            <div>{{ user.firstName }}</div>
            <div>{{ user.secondName }}</div>
            <div>{{ user.email }}</div>
            <div>{% for role in user.roles %}{{ role }} {% endfor %}</div>
            <div>{% if user.isVerified %}Yes{% else %}No{% endif %}</div>
            <div><a href="{{ path('edit_user', {id: user.id }) }}">{% if 'ROLE_ADMIN' in user.roles %}Set to user{% else %}Set to admin{% endif %}</a></div>
            <div><a href="{{ path('delete_user', {id: user.id }) }}">Delete user</a></div>
            <div><a href="{{ path('profile') }}?_switch_user={{user.email}}">See profile</a></div>
        </div>
    {% endfor %}
    </div>
</div>
{% endblock %}